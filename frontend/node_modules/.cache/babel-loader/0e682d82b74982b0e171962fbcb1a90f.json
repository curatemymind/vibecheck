{"ast":null,"code":"var _jsxFileName = \"/Users/innovation/Desktop/vibecheck/frontend/src/pages/Playlist.js\";\nimport React from 'react';\nimport '../vibecheck.css';\nimport { Redirect } from \"react-router-dom\";\nimport Select from 'react-select';\nimport makeAnimated from 'react-select/animated';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nconst genres = [];\nconst animatedComponents = makeAnimated();\nconst Vibes = [{\n  label: \"Funky\",\n  value: \"Funky\"\n}, {\n  label: \"Happy\",\n  value: \"Happy\"\n}, {\n  label: \"Sad\",\n  value: \"Sad\"\n}, {\n  label: \"Chill\",\n  value: \"Chill\"\n}, {\n  label: \"Flirty\",\n  value: \"Flirty\"\n}, {\n  label: \"Study\",\n  value: \"Study\"\n}, {\n  label: \"Workout\",\n  value: \"Workout\"\n}, {\n  label: \"Nostalgic\",\n  value: \"Nostalgic\"\n}];\n\nclass Playlist extends React.Component {\n  //the states of emotion and source will be set to null initially until the user had filled out the form.\n  constructor() {\n    super();\n\n    this.handleVibe = newVibe => {\n      this.setState({\n        vibe: newVibe['label']\n      });\n      alert(this.state.vibe);\n    };\n\n    this.handleGenres = genreChange => {\n      var string = \"\";\n      var finalGenres = [];\n\n      if (genreChange != null) {\n        if (genreChange.length >= 3) {\n          const axios = require('axios');\n\n          for (var i = genreChange.length - 3; i < genreChange.length; i++) {\n            finalGenres.push(genreChange[i]['value']);\n          }\n\n          alert(finalGenres);\n          const genresSelected = {\n            genresSelected: this.state.genres\n          };\n          axios.post(`http://localhost:5000/recommendations`, {\n            genresSelected\n          }).then(response => {\n            var length = response.data.data.tracks.length;\n            var tempArr = [];\n\n            for (var i = 0; i < length; i++) {\n              tempArr.push(response.data.data.tracks[i].artists[0].name);\n            }\n\n            this.setState({\n              recArtists: tempArr\n            });\n          }).catch(error => {\n            alert(\"There was an error connecting to the api\");\n            console.error(error);\n          });\n        }\n      }\n    };\n\n    this.state = {\n      data: null,\n      genres: null,\n      recArtists: null,\n      vibe: \"Funky\"\n    };\n  }\n\n  componentDidMount() {\n    const axios = require('axios');\n\n    axios.get(`http://localhost:5000/allGenres`).then(response => {\n      for (var i = 0; i < response.data.data.genres.length; i++) {\n        genres.push({\n          label: response.data.data.genres[i],\n          value: response.data.data.genres[i]\n        });\n      }\n\n      this.setState({\n        genres: response.data.data.genres\n      });\n    }).catch(error => {\n      alert(\"There was an error connecting to the api\");\n      console.error(error);\n    });\n  }\n\n  render() {\n    if (this.state.genres != null) {\n      this.items = this.state.genres.map((item, key) => /*#__PURE__*/React.createElement(\"option\", {\n        name: item,\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }, item));\n    }\n\n    if (this.state.recArtists != null) {\n      this.artists = this.state.recArtists.map((item, key) => /*#__PURE__*/React.createElement(\"option\", {\n        name: item,\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }\n      }, item));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      action: \"http://localhost:5000/newPlaylist\",\n      method: \"POST\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, \"Select Vibe\"), /*#__PURE__*/React.createElement(Select, {\n      options: Vibes,\n      onChange: this.handleVibe,\n      components: animatedComponents,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, \"Select Genres\"), /*#__PURE__*/React.createElement(Select, {\n      options: genres,\n      onChange: this.handleGenres,\n      components: animatedComponents,\n      isMulti: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"artists\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, \"Choose three artists:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"artists\",\n      id: \"artists\",\n      multiple: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, this.artists), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default Playlist;","map":{"version":3,"sources":["/Users/innovation/Desktop/vibecheck/frontend/src/pages/Playlist.js"],"names":["React","Redirect","Select","makeAnimated","genres","animatedComponents","Vibes","label","value","Playlist","Component","constructor","handleVibe","newVibe","setState","vibe","alert","state","handleGenres","genreChange","string","finalGenres","length","axios","require","i","push","genresSelected","post","then","response","data","tracks","tempArr","artists","name","recArtists","catch","error","console","componentDidMount","get","render","items","map","item","key"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../vibecheck.css';\nimport { Redirect } from \"react-router-dom\";\nimport Select from 'react-select';\nimport makeAnimated from 'react-select/animated';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst genres = []\nconst animatedComponents = makeAnimated();\n\n\nconst Vibes = [\n  { label: \"Funky\", value: \"Funky\" },\n  { label: \"Happy\", value: \"Happy\" },\n  { label: \"Sad\", value: \"Sad\" },\n  { label: \"Chill\", value: \"Chill\" },\n  { label: \"Flirty\", value: \"Flirty\" },\n  { label: \"Study\", value: \"Study\" },\n  { label: \"Workout\", value: \"Workout\" },\n  { label: \"Nostalgic\", value: \"Nostalgic\" }\n];\n\nclass Playlist extends React.Component {\n\n\n  //the states of emotion and source will be set to null initially until the user had filled out the form.\n  constructor() {\n    super();\n    this.state = {\n      data: null,\n      genres: null,\n      recArtists: null,\n      vibe: \"Funky\"\n    };\n  }\n\n  componentDidMount() {\n    const axios = require('axios');\n\n    axios.get(`http://localhost:5000/allGenres`)\n      .then((response) => {\n\n        for (var i = 0; i < response.data.data.genres.length; i++) {\n          genres.push({ label: response.data.data.genres[i], value: response.data.data.genres[i] })\n        }\n\n        this.setState({\n          genres: response.data.data.genres\n        });\n      }).catch((error) => {\n        alert(\"There was an error connecting to the api\")\n        console.error(error);\n      });\n\n  }\n\n  handleVibe = newVibe => {\n    this.setState({vibe: newVibe['label']})\n    alert(this.state.vibe)\n  };\n\n  handleGenres = genreChange => {\n    var string = \"\"\n    var finalGenres = []\n\n    if (genreChange != null) {\n      if (genreChange.length >= 3) {\n        const axios = require('axios');\n        for (var i = genreChange.length - 3; i < genreChange.length; i++) {\n          finalGenres.push(genreChange[i]['value'])\n        }\n        alert(finalGenres)\n        const genresSelected = {\n          genresSelected: this.state.genres\n        };\n    \n        axios.post(`http://localhost:5000/recommendations`, {genresSelected})\n          .then((response) => {\n            var length = (response.data.data.tracks.length)\n\n            var tempArr = []\n            for (var i = 0; i < length; i++) {\n              tempArr.push(response.data.data.tracks[i].artists[0].name)\n            }\n            this.setState({\n              recArtists: tempArr\n            });\n          }).catch((error) => {\n            alert(\"There was an error connecting to the api\")\n            console.error(error);\n          });\n      }\n    }\n  };\n\n  render() {\n    if (this.state.genres != null) {\n      this.items = this.state.genres.map((item, key) =>\n        <option name={item} key={key}>{item}</option>\n      );\n    }\n\n    if (this.state.recArtists != null) {\n      this.artists = this.state.recArtists.map((item, key) =>\n        <option name={item} key={key}>{item}</option>\n      );\n    }\n\n    return (\n      <div>\n        <form action='http://localhost:5000/newPlaylist' method='POST'>\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-md-3\"></div>\n              <div className=\"col-md-6\">\n                <h1>Select Vibe</h1>\n                <Select options={Vibes} onChange={this.handleVibe} components={animatedComponents}\n                />\n                <br></br>\n                <h1>Select Genres</h1>\n                <Select options={genres} onChange={this.handleGenres} components={animatedComponents} isMulti />\n                <br></br>\n                <label for=\"artists\">Choose three artists:</label>\n                <br></br>\n                <select name=\"artists\" id=\"artists\" multiple>\n                  {this.artists}\n                </select>\n\n                <br></br>\n\n              </div>\n              <div className=\"col-md-4\"></div>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\nexport default Playlist;\n"]},"metadata":{},"sourceType":"module"}